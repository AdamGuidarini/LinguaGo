<mat-card *ngIf="vm$ | async as vm" style="margin: 5px; padding: 5px;">
    <div fxLayout="column" fxLayoutAlign="space-around center">
        <div class="select">
            <select [value]="vm.source" #s (change)="sourceSubject.next(s.value)">
                <option value="auto">Auto</option>
                <option *ngFor="let lang of vm.languages" [value]="lang.code">
                    {{ lang.name }}
                </option>
            </select>
        </div>
        <div class="select">
            <select [value]="vm.target" #t (change)="targetSubject.next(t.value)">
                <option *ngIf="vm.targetLangs.length > 0" style="display:none"></option>
                <option *ngFor="let lang of vm.targetLangs" [value]="lang.code">
                    {{ lang.name }}
                </option>
            </select>
        </div>
    </div>
    <mat-form-field appearance="outline">
        <textarea matInput minRows="5" [(ngModel)]="textToTranslate"></textarea>
    </mat-form-field>
    <mat-form-field appearance="outline">
        <textarea matInput minRows="5" readonly="true" style="caret-color: transparent;">{{ vm.translation }}</textarea>
    </mat-form-field>
    <button class="translate-button" (click)="translateSubject.next()"
        [disabled]="!(vm.source || vm.target || textToTranslate)">
        Translate
    </button>
</mat-card>